var D=({x:t,y:e},{x:r,y:n})=>Math.sqrt((r-t)**2+(n-e)**2),P={fromRectWithPercentInnerRadius(t,e){let{x:r,y:n,width:o,height:l}=t,u=Math.min(o,l)/2,d=e*.01*u,v={x:r+o/2,y:n+l/2};return{innerRadiusPerc:e,radius:u,innerRadius:d,center:v}},fromRectWithInnerRadius(t,e){let{x:r,y:n,width:o,height:l}=t,u=Math.min(o,l)/2,d=e*100/u,v={x:r+o/2,y:n+l/2};return{innerRadiusPerc:d,radius:u,innerRadius:e,center:v}}};var I=`<html><head></head><body><div class="container"> <div class="color-wheel-container"> <div class="inner-radius-calc"></div> <div class="color-wheel"></div> <div class="slider-container"> <div class="slider-track"></div> <div class="slider-container-half"> <div class="slider" role="slider"></div> </div> </div> </div>
</div>
</body></html>`;var A=`:host{color-scheme:only light;display:inline-flex;justify-content:center;align-items:center;--inner-radius: var(--color-wheel-inner-radius, 60%);--radius: 5cm;min-height:calc(2 * var(--radius) + 2* var(--thumb-radius) + 12px);--thumb-radius: var(--color-wheel-thumb-radius-mobile, var(--color-wheel-thumb-radius, .6cm));--hue: 0;--value: 100;--lightness: 50;--saturation: 100;--default-ui-mode: desktop }:host([rotate-wheel]){--ui-mode: "mobile" }@media only screen and (min-device-width : 320px) and (max-device-width : 480px){:host{--default-ui-mode: mobile }}.container{position:relative;display:inline-block;overflow:hidden;width:100%;height:100%;box-sizing:border-box;padding:calc(var(--thumb-radius) + 6px);transition:--ui-mode 1ms step-start allow-discrete,--default-ui-mode 1ms step-start allow-discrete}.container--desktop-ui{--inner-radius: var(--color-wheel-inner-radius, .1%);--thumb-radius: var(--color-wheel-thumb-radius-desktop, var(--color-wheel-thumb-radius, .5cm))}.color-wheel-container{width:100%;height:100%;min-height:calc(2 * var(--radius));min-width:calc(2 * var(--radius));display:inline-block;position:relative}.color-wheel,.slider-container{position:absolute;inset:0}.color-wheel{--l-color: calc(var(--value) * .5%);--center-l-color: calc(var(--value) * 1%);pointer-events:auto;display:inline-block;touch-action:none;border-radius:50%;background:radial-gradient(circle closest-side at center,hsl(0 0% var(--center-l-color)) var(--inner-radius),transparent 100%),conic-gradient(hsl(360 100% var(--l-color)),hsl(345 100% var(--l-color)),hsl(330 100% var(--l-color)),hsl(315 100% var(--l-color)),hsl(300 100% var(--l-color)),hsl(285 100% var(--l-color)),hsl(270 100% var(--l-color)),hsl(255 100% var(--l-color)),hsl(240 100% var(--l-color)),hsl(225 100% var(--l-color)),hsl(210 100% var(--l-color)),hsl(195 100% var(--l-color)),hsl(180 100% var(--l-color)),hsl(150 100% var(--l-color)),hsl(135 100% var(--l-color)),hsl(120 100% var(--l-color)),hsl(105 100% var(--l-color)),hsl(90 100% var(--l-color)),hsl(60 100% var(--l-color)),hsl(45 100% var(--l-color)),hsl(30 100% var(--l-color)),hsl(15 100% var(--l-color)),hsl(0 100% var(--l-color)));mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%);-webkit-mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%);transform-origin:center}.container--hsl .color-wheel{--l-color: calc(var(--lightness) * 1%);--center-l-color: calc(var(--lightness) * 1%)}.container--mobile-ui .color-wheel{transform:rotate(calc(var(--hue) * 1deg))}.slider-container{pointer-events:none;position:absolute;aspect-ratio:1 / 1;height:100%;top:50%;left:50%;min-height:calc(2 * var(--radius));min-width:calc(2 * var(--radius));transform:translate(-50%,-50%) rotate(calc(var(--hue) * -1deg - 90deg))}.slider-container-half{position:absolute;inset:0 0 0 50%}.slider{pointer-events:none;touch-action:none;position:absolute;top:50%;width:calc(2 * var(--thumb-radius));height:calc(2 * var(--thumb-radius));background:hsl(var(--hue),calc(var(--saturation) * 1%),calc((100% - var(--saturation) * .5%) * var(--value) / 100));border:4px solid #888;border-radius:50%;cursor:pointer;transform:translate(-50%,-50%);left:calc(var(--inner-radius) + (1% * var(--saturation)) - (var(--saturation) * var(--inner-radius) / 100))}.container--hsl .slider{background:hsl(var(--hue),calc(var(--saturation) * 1%),calc(var(--lightness, 50) * 1%))}.inner-radius-calc{z-index:-1;height:1px;pointer-events:none;touch-action:none;width:var(--inner-radius)}.slider-track{display:none;pointer-events:none}.slider:before{display:block;position:absolute;inset:-3px;background:transparent;border-radius:50%;border:2px solid #ffffff;content:" ";pointer-events:none;touch-action:none}.container--mobile-ui .slider-container{transform:translate(-50%,-50%) rotate(-90deg)}.container--mobile-ui .slider-track{position:absolute;inset:0;display:inline;z-index:-1;overflow:hidden;mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%);-webkit-mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%)}.container--mobile-ui .slider-track:after{content:" ";position:absolute;inset:calc(50% - 2px) -10px calc(50% - 2px) 50%;border:1px solid black}.container--mobile-ui .slider{pointer-events:auto}
`;var T=()=>{let t=document.createElement("template");return t.innerHTML=I,T=()=>t,t},X=()=>{let t=new CSSStyleSheet;return t.replaceSync(A),X=()=>t,t};function _(t){let{target:e}=t;if(!(e instanceof HTMLElement))return;let r=e.getRootNode();if(!(r instanceof ShadowRoot))return;let{host:n}=r;n instanceof y&&q(n)}var Y=(t,e)=>{if(!t)throw new Error(`Color-wheel: Error from shadowDOM: parent node is ${t}`);let r=t.querySelector(e);if(!r||!(r instanceof HTMLElement))throw new Error(`Color-wheel: Error from shadowDOM: html element "${e}" not found`);return r},y=class extends HTMLElement{constructor(){super();let e=this.attachShadow({mode:"open"});e.adoptedStyleSheets=[X()];let r=T();e.append(document.importNode(r.content,!0));let n=Y.bind(null,e),o=n(".color-wheel-container"),l=n(".inner-radius-calc"),u=n(".color-wheel"),d=n(".slider");if(!o||!l)throw new Error('Error loading Color-wheel: ".color-wheel-container", ".inner-radius-calc", ".color-wheel" or  not found');let v=window.getComputedStyle(u);q(this),V(this),W(this),f(this).addEventListener("transitionstart",_);let C=()=>{let i=o.getBoundingClientRect(),c=v.transformOrigin.split(" "),s=i.top+parseInt(c[1]);return{x:i.left+parseInt(c[0]),y:s}},R=()=>{let i=o.getBoundingClientRect(),a=v.getPropertyValue("--inner-radius").trim();if(/[0-9]+%/g.test(a)){let s=parseFloat(a);return P.fromRectWithPercentInnerRadius(i,s)}let c=l.getBoundingClientRect().width;return P.fromRectWithInnerRadius(i,c)},M=i=>{let a=this.ownerDocument.defaultView;if(!a)return;let c=s=>{s.preventDefault(),s.stopPropagation(),i(s)};a.addEventListener("pointermove",c,{capture:!0}),a.addEventListener("pointerup",()=>{a.removeEventListener("pointermove",c,{capture:!0})},{once:!0,capture:!0})},z=()=>{let i=C(),a=R();M(s=>{let p={x:i.x,y:Math.min(i.y,s.clientY)},k=H(a,p);this.saturation=k;let L=new CustomEvent("input",{bubbles:!0});this.dispatchEvent(L)})},$=i=>{let a=C(),c=R(),{hue:s}=this,p=m=>{let h=m.clientX-a.x,g=a.y-m.clientY;return Math.atan2(g,h)*-180/Math.PI},k=p(i);if((this.uiMode||"").trim()==="mobile")M(h=>{let g=p(h),w=Math.round(g-k+s+360)%360;this.hue=w;let E=new CustomEvent("input",{bubbles:!0});this.dispatchEvent(E)});else{let m=h=>{let g=p(h),w=Math.round(-g+360*2-90)%360;this.hue=w;let E={x:h.clientX,y:h.clientY},F=H(c,E);this.saturation=F;let U=new CustomEvent("input",{bubbles:!0});this.dispatchEvent(U)};m(i),M(m)}};u.addEventListener("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),$(i)}),d.addEventListener("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),z()}),B(this),N(this)}static get observedAttributes(){return["saturation","hue","lightness","value"]}attributeChangedCallback(e,r,n){if(r!==n)switch(e){case"saturation":N(this);return;case"hue":B(this);return;case"lightness":V(this);return;case"value":W(this)}}get uiMode(){let e=getComputedStyle(f(this)),r=e.getPropertyValue("--ui-mode").trim();switch(r){case"desktop":case"mobile":return r}return e.getPropertyValue("--default-ui-mode").trim()}get hue(){return b(this,"hue",0)}set hue(e){this.setAttribute("hue",String(e))}get saturation(){return b(this,"saturation",0)}set saturation(e){this.setAttribute("saturation",String(e))}get value(){return b(this,"value",100)}set value(e){this.setAttribute("value",String(e))}get lightness(){return b(this,"lightness",50)}set lightness(e){this.setAttribute("lightness",String(e))}};function H(t,e){let{center:r,radius:n,innerRadiusPerc:o}=t,l=D(r,e),d=(Math.min(100,Math.max(0,l*100/n))-o)*100/(100-o);return Math.round(Math.min(100,Math.max(0,d)))}function b(t,e,r){let n=t.getAttribute(e);if(!n)return r;let o=parseInt(n);return isNaN(o)?r:o}var f=t=>Y(t.shadowRoot,".container"),S=(t,e,r)=>{f(t).style.setProperty(e,String(r))};function q(t){let e=f(t),{uiMode:r}=t;e.classList.toggle("container--desktop-ui",r==="desktop"),e.classList.toggle("container--mobile-ui",r==="mobile")}function O(t){let e=f(t);if(!e)return;let r=t.hasAttribute("lightness")&&!t.hasAttribute("value");e.classList.toggle("container--hsl",r)}var B=t=>{S(t,"--hue",t.hue)},N=t=>{S(t,"--saturation",t.saturation)},V=t=>{O(t),S(t,"--lightness",t.lightness)},W=t=>{O(t),S(t,"--value",t.value)},j=new URL(import.meta.url),x=j.searchParams.get("named");x&&(customElements.get(x)!=null?console.error(`A custom element with name "${x}" already exists`):customElements.define(x,y));for(let[t,e]of[["--default-ui-mode",!1],["--ui-mode",!0]])try{CSS.registerProperty({name:t,inherits:e})}catch(r){if(!(r instanceof DOMException))throw r}
//# sourceMappingURL=color-wheel.element.min.js.map
